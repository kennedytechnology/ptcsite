@tailwind base;
@tailwind components;
@tailwind utilities;

/* Modern CSS features and View Transitions */
@layer base {
  :root {
    /* Modern color spaces */
    color-scheme: light dark;
    
    /* View transition setup */
    view-transition-name: root;
  }
  
  /* Enable view transitions for supported browsers */
  @supports (view-transition-name: none) {
    ::view-transition-old(root), 
    ::view-transition-new(root) {
      animation-duration: 0.3s;
    }
  }
  
  /* Modern font loading */
  @font-face {
    font-family: 'Inter Variable';
    font-style: normal;
    font-weight: 100 900;
    font-display: swap;
    src: url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
  }
  
  /* Base styles with modern CSS */
  html {
    font-family: 'Inter Variable', system-ui, sans-serif;
    font-feature-settings: 'cv11', 'ss01';
    font-variation-settings: 'opsz' 32;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  /* Dark mode support */
  @media (prefers-color-scheme: dark) {
    :root {
      color-scheme: dark;
      --tw-bg-opacity: 1;
      background-color: oklch(15% 0.01 240 / var(--tw-bg-opacity));
      --tw-text-opacity: 1;
      color: oklch(90% 0.02 240 / var(--tw-text-opacity));
    }
  }
}

@layer components {
  /* Container query responsive components */
  .card {
    @apply bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6;
  }
  
  .card {
    @container (min-width: 320px) {
      padding: 2rem;
    }
    @container (min-width: 480px) {
      padding: 2.5rem;
    }
  }
  
  .hero {
    @apply relative overflow-hidden;
    view-transition-name: hero;
  }
  
  .nav-link {
    @apply transition-colors hover:text-primary-500;
    view-transition-name: nav;
  }
}

@layer utilities {
  /* View transition utilities */
  .view-transition-slide {
    view-transition-name: slide;
  }
  
  .view-transition-fade {
    view-transition-name: fade;
  }
  
  /* Modern layout utilities */
  .grid-auto-fit {
    grid-template-columns: repeat(auto-fit, minmax(min(300px, 100%), 1fr));
  }
  
  .grid-auto-fill {
    grid-template-columns: repeat(auto-fill, minmax(min(300px, 100%), 1fr));
  }
  
  /* Container query utilities */
  .cq-normal { container-type: normal; }
  .cq-size { container-type: size; }
  .cq-inline-size { container-type: inline-size; }
}